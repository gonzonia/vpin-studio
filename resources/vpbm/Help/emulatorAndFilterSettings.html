<!DOCTYPE html>
<html>
<head>
    <title>VPBM - Emulator and Filter Settings</title>
    <link rel="icon" href="img/vpbm.png">
    <link rel="stylesheet" href="vpbm.css">
</head>


<header>
    <hr>
	<a href="main.html"><img style="float: left; padding: 6px 0px 0px 0px;" src="./img/logo.png" alt="VPBM Logo" width="60" height="60"></a>
    <h2><span>&nbsp;&nbsp;Emulator and Filter Settings</span></h2>
	<p><span class="vpbm">Virtual Pinball Backup Manager</span> - managing your backups, one game at a time</p>
    <hr>
</header>


<body>
    <h3><span>&nbsp;&nbsp;Settings Overview</span></h3>
    <p><strong>Emulator and Filter Settings</strong> are used to control finer details of how <span class="vpbm">VPBM</span> will search for content for games installed across one or more emulators.
       When each game is scanned for content a set of filters defined for the game will be iterated over to look for matching content, which will be displayed within <span class="vpbm">VPBM</span>, and form the basis of content for backup and restore operations.
       While a series of built in filters exist, this window is designed to support users adding their own filters to be applied globally for all games of a given emulator type.</p>
    <p>These filters are different to the game specific filters that can be created as described in <a href="./selectedGameCustomFilters.html">Selected Game Custom Filters Panel</a> as these filters are applied to every game for the specific emulator, or in the case of user added <strong>Pinup Popper</strong> filters, they would be applied to every game in the system.</p>
    <img src="./img/emulatorAndFilterSettingsSummary.jpg" width="543" alt="Emulator and Filter Settings Window Summary">
    <p>There are two main functions of the <strong>Emulator and Filter Settings</strong> window, they are:</p>
    <li>Viewing all emulators enabled in Pinup Popper Setup, and for non-standard emulators, specifying any built-in emulator templates to apply.</li>
    <li>For each identified emulator, allowing users to view all filters that will be applied and allow them to add additional custom filters to address cases where game content is not correctly being located by built-infilters.</li>

    <hr>
    <h3><span>&nbsp;&nbsp;The Emulator Settings Panel</span></h3>
    <p>Located at the top of the <strong>Emulator and Filter Settings</strong> window, this panel is largely provided to allow users to view details of emulators that have been defined within the <strong>PinUP Popper Setup</strong>s, <strong>Emulators Setup</strong> page. An example of which is shown below.</p>
    <img src="./img/pinupEmulatorSetup.jpg" width="554" alt="Pinup Emulator Setup">
    <p>Any emulator that is found in this setup, and that has been marked as active via the <strong>Emulator Active in System</strong> checkbox, will be displayed in the <strong>Emulator Settings</strong> panel.
        The panel below is the result of the <strong>Visual Pinball X</strong>, <strong>Future Pinball</strong> and a second VPX instance <strong>Visual Pinball X2</strong> being activated in <strong>Pinup Popper Setup</strong>. Key settings values set in
        <strong>Pinup Popper Setup</strong> are displayed in the <strong>Emulator Settings</strong> panel for easy reference as well as a <strong>Emulator Template</strong> selector which is enabled for emulators that don't have built in templates allocated to them. 
    </p>
    <img src="./img/emulatorSettingsPanel.jpg" width="1080" alt="Emulator Settings Panel">
    <p>Both the <strong>Visual Pinball X</strong> and <strong>Future Pinball</strong> emulators are core emulators in the virtual pinball ecosystem, and as such the filters that each emulator requires to find key content is well understood.
        As such, templates have been developed for each emulator documenting these filter requirements with names matching the emulators. When an emulator is active in the system, <span class="vpbm">VPBM</span> looks to see if a filter exists with matching name and
        if such a filter does, it is locked in as the template used to represent that emulator.
    </p>
    <p>Defined emulators with names not matching <span class="vpbm">VPBM</span> filters will initially not have a template assigned, the user is then able to select an appropriate filter to allocate, if such a template exists.</p>
    <p>In the example below, as various emulator options are applied to the <strong>Visual Pinball X2</strong> emulator, the associated filters that would be applied are shown immediately in the <strong>Emulator and Pinup Filters</strong> panel.
    </p>
    <img src="./img/emulatorAndFilterSettingsApplyTemplate.gif" width="1086" alt="Apply Filter Template">

    <hr>
    <h3><span>&nbsp;&nbsp;The Emulator and Pinup Filters Panel</span></h3>
    <p>As shown above, the <strong>Emulator and Pinup Filters</strong> panel is used to display a summary of all current filters associated with the selected emulator. Generally these filters are built in, either from an associated emulator template, or sourced from the built-in <strong>Pinup</strong> filters.
        There are cases however where this set of filters may not be enough, such as when a new filter is to be included or when new content has started to be used for games. To address this issue, the <strong>Emulator and Pinup Filters</strong> panel provides the ability to create, modify and delete custom filters on a per emulator or per <strong>Pinup</strong> basis.
    </p>
    <p>Any custom filters that are created are used to supplement built-in filters. Built-in filters cannot be deleted. Custom emulator filters that are defined are relative to the base emulator directory and are only used by the corresponding emulator, however custom <strong>Pinup</strong> filters have a scope covering all games and are relative to the base <strong>Pinup</strong> directory.</p>
    <p>Four buttons are provided in the <strong>Emulator and Pinup Filters</strong> panel to manage custom filters, they are:</p>
    <li>Create Emulator Filter - Launches the <strong>Create/Update Emulator Filter</strong> window (described below) to allow creation of a new filter for the selected emulator</li>
    <li>Create Pinup Filter - Launches the <strong>Create/Update Emulator Filter</strong> window (described below) to allow creation of a new filter for Pinup</li>
    <li>Update Selected Filter - Launces the <strong>Create/Update Emulator Filter</strong> window (described below) to allow changes to be applied to the selected custom filter</li>
    <li>Delete Selected Filter - Deletes the selected custom filter</li>
    <p>Additionally, there are two toggles which allow the user to filter the contents of the <strong>Emulator and Pinup Filters</strong> panel based on the application the filter is applied to (the Emulator or Pinup) or on the origin of the filter (built-in or custom) as shown below.</p>
    <img src="./img/emulatorAndFilterSettingsFilterFilters.gif" width="1086" alt="Filter Filters">

    <hr>
    <h3><span>&nbsp;&nbsp;The Create/Update Filter Window</span></h3>
    <p>The <strong>Create/Update Filter</strong> window is used to either create new, or update existing emulator or Pinup filters. This window is launched from the <strong>Emulator and Filter Settings</strong> window when the user elects to use the <strong>Create Emulator Filter</strong>, <strong>Create Pinup Filter</strong> or <strong>Update Selected Filter</strong> buttons.</p>
    <p>The title of the window is updated to reflect the command that launched the window. In the example below, the window was launched as a result of the user pressing the <strong>Create Emulator Filter</strong> button while viewing the <strong>Future Pinball</strong> emulator.</p>
	<p>Fields within the window will be highlighted to mark changes that have been made or invalid field values.</p>
    <img src="./img/createUpdateFilter.jpg" width="586" alt="Create/Update Filter">
    <p>The <strong>Create/Update Filter</strong> window is divided into two portions, the top portion is used to define the filter type being set in the <strong>Filter Type</strong> selector. A <strong>Mandatory</strong> checkbox is provided for any filters that must be present for a game,
        the <strong>Filter Description</strong> allows a free text description of the game and the <strong>Filter Path</strong> provides the path the filter should use.
    </p>
    <p>There are three types of filters that users can add, which will be described individually below, they are:</p>
    <li><strong>FILE Filter</strong> - this is the most common filter and will almost always be the only type of filter a user would add. For FILE filters.</li>
    <li><strong>CSV Filter</strong> - this filter is able to extract a line of data from a comma separated value (CSV) file.</li>
    <li><strong>XML Filter</strong> - this filter is able to extract a line of data from an extensible markup language (XML) file.</li>
    <p>For all filters, a set of filter variables found in the <strong>Available Filters</strong> panel can be used in the <strong>Filter Path</strong> text field or within the <strong>Filter Details</strong> panels (who's contents changes based on the filter type). Hovering over a filter variable will display a tooltip describing the variable, while double clicking it will copy it to the clipboard for pasting into fields.</p>
   
    <br />
    <h4><span>&nbsp;&nbsp;FILE Filters</span></h4>
    <p><strong>FILE</strong> filters are filters looking for actual files within the parent application directory. In almost all cases, this is the filter that users require to use to add an additional files to filter on. Unlike CSV and XML filters, file filters allow multiple filters to be supplied to be searched for in the path specified in <strong>Filter Path</strong>.</p>
    <p>In the example below a filter is setup to search for a file in the  <strong>[GAMEFOLDER]</strong> with a .txt extension that matches the games filename.</p>
    <img src="./img/creatingFileFilter.gif" width="586" alt="Create FILE Filter">

    <br />
    <h4><span>&nbsp;&nbsp;CSV Filters</span></h4>
    <p><strong>CSV</strong> filters are designed to operate on CSV files looking for a line within the CSV file matching a given key in supplied column. Ff found the entire line matching the supplied key and column will be extracted when backing up files.</p>
    <p>The example below shows a filter designed to extract a line of CSV text from a CSV file identified in the <strong>Filter Path</strong> text field. The filter will look for a line in the CSV file with the games <strong>[GAMECODE]</strong> value in the first column (column 0).</p>
    <img src="./img/creatingCSVFilter.gif" width="586" alt="Create CSV Filter">

    <br />
    <h4><span>&nbsp;&nbsp;XML Filters</span></h4>
    <p><strong>XML</strong> filters are designed to operate on XML files looking for a node within the top level of the XML file matching a given key, if found the entire block corresponding to the top level key will be extracted when backing up files.</p>
    <p>The example below shows a filter designed to extract a node from the XML file identified in the <strong>Filter Path</strong> text field. The filter will look for a node within the top level of the XML file which matches a games <strong>[GAMECODE]</strong> value.</p>
    <img src="./img/creatingXMLFilter.gif" width="586" alt="Create XML Filter">
    
    <br />
    <h4><span>&nbsp;&nbsp;Applying/Cancelling Changes to a Filter</span></h4>
    <p>Three buttons are available at the bottom of the <strong>Create/Update Filter</strong> window, that provide the ability to save or forget changes, they are:</p>
    <li><strong>Revert</strong> - Any changes made since the form was opened are reversed.</li>
    <li><strong>Save</strong> - Current values are saved and the window is closed - this button is only available if the window contains valid values.</li>
    <li><strong>Close</strong> - The window is closed with no changes made.</li>
    <p>Note that any filter changes applied on this window are only saved back to the parent <strong>Emulator and Filter Settings</strong> window, changes need to be saved on this page as well for them to be saved and used by the application.</p>

    <hr>
    <h3><span>&nbsp;&nbsp;Applying/Cancelling Emulator and Filter Settings</span></h3>
    <p>Two buttons are available at the bottom of the <strong>Emulator and Filter Settings</strong> window, that provide the ability to save or forget changes, they are:</p>
    <li><strong>Save</strong> - Current values are saved and the window is closed - this button is only available if the window contains valid values.</li>
    <li><strong>Close</strong> - The window is closed with no changes made.</li>
</body>

<footer>
	<br/>
    <hr>
    <tbody>
        <tr style="padding: 10px; border: 1px solid black;">
            <td>
                <span class="vpbm">Virtual Pinball Backup Manager</span> is provided free for personal use. Use of <span class="vpbm">VPBM</span> for commercial purposes is strictly prohibited.
				<br>
				Users wishing to donate to the ongoing support, development and upkeep may use the donate button. Thanks for your support and I hope this tool helps.
            </td>
            <td>
                <form action="https://www.paypal.com/donate" method="post" target="_top" style="float: right;">
                    <input type="hidden" name="business" value="QPUQYK8DKFAZG" />
                    <input type="hidden" name="no_recurring" value="1" />
                    <input type="hidden" name="currency_code" value="AUD" />
                    <input type="image" src="https://www.paypalobjects.com/en_AU/i/btn/btn_donate_SM.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
                    <img alt="" border="0" src="https://www.paypal.com/en_AU/i/scr/pixel.gif" width="1" height="1" />
                </form>
            </td>
        </tr>
    </tbody>
</footer>

</html>
